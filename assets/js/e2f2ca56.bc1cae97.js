"use strict";(self.webpackChunkdisnake_guide=self.webpackChunkdisnake_guide||[]).push([[136],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>m});var i=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=i.createContext({}),p=function(e){var t=i.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},c=function(e){var t=p(e.components);return i.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},u=i.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),u=p(n),m=a,g=u["".concat(l,".").concat(m)]||u[m]||d[m]||o;return n?i.createElement(g,r(r({ref:t},c),{},{components:n})):i.createElement(g,r({ref:t},c))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,r=new Array(o);r[0]=u;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:a,r[1]=s;for(var p=2;p<o;p++)r[p]=n[p];return i.createElement.apply(null,r)}return i.createElement.apply(null,n)}u.displayName="MDXCreateElement"},2809:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>r,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>p});var i=n(7462),a=(n(7294),n(3905));const o={description:"An in-depth article on initializing your Discord bot project.",keywords:["disnake","bot","guide","tutorial","initial files","initialization","python"]},r="Initial files",s={unversionedId:"getting-started/initial-files",id:"getting-started/initial-files",title:"Initial files",description:"An in-depth article on initializing your Discord bot project.",source:"@site/docs/getting-started/initial-files.mdx",sourceDirName:"getting-started",slug:"/getting-started/initial-files",permalink:"/getting-started/initial-files",draft:!1,editUrl:"https://github.com/DisnakeDev/guide/edit/main/guide/docs/getting-started/initial-files.mdx",tags:[],version:"current",lastUpdatedBy:"Victor",lastUpdatedAt:1682950341,formattedLastUpdatedAt:"May 1, 2023",frontMatter:{description:"An in-depth article on initializing your Discord bot project.",keywords:["disnake","bot","guide","tutorial","initial files","initialization","python"]},sidebar:"guideSidebar",previous:{title:"Creating your application",permalink:"/prerequisites/creating-your-application"},next:{title:"Creating commands",permalink:"/getting-started/creating-commands"}},l={},p=[{value:"Creating configuration files",id:"creating-configuration-files",level:2},{value:"Using environment variables",id:"using-environment-variables",level:3},{value:"Git and <code>.gitignore</code>",id:"git-and-gitignore",level:3},{value:"Creating the main file",id:"creating-the-main-file",level:2},{value:"Resulting code",id:"resulting-code",level:2}],c=e=>function(t){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),(0,a.kt)("div",t)},d=c("Tabs"),u=c("TabItem"),m=c("ResultingCode"),g={toc:p};function h(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,i.Z)({},g,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"initial-files"},"Initial files"),(0,a.kt)("p",null,"Once you ",(0,a.kt)("a",{parentName:"p",href:"../prerequisites/creating-your-application#inviting-your-bot"},"add your bot to a server"),", the next step is to\nstart coding and get it online! Let's start by creating a ",(0,a.kt)("inlineCode",{parentName:"p"},".env")," file for your bot token and a main file for your bot\napplication."),(0,a.kt)("h2",{id:"creating-configuration-files"},"Creating configuration files"),(0,a.kt)("p",null,'As explained in the "What is a token, anyway?" section, your token is essentially your bot\'s password, and you should\nprotect it as best as possible. This can be done through a ',(0,a.kt)("inlineCode",{parentName:"p"},".env")," file, or by using environment variables."),(0,a.kt)("p",null,"Open your application in the ",(0,a.kt)("a",{parentName:"p",href:"https://discord.com/developers/applications"},"Discord Developer Portal")," and go to the ",(0,a.kt)("inlineCode",{parentName:"p"},"Bot"),"\npage to copy your token."),(0,a.kt)("h3",{id:"using-environment-variables"},"Using environment variables"),(0,a.kt)("p",null,"Environment variables are special values for your environment (e.g., terminal session, docker container, or environment\nvariable file). You can pass these values into your code's scope so that you can use them."),(0,a.kt)("admonition",{type:"note"},(0,a.kt)("p",{parentName:"admonition"},"When referring to a ",(0,a.kt)("inlineCode",{parentName:"p"},".env")," file, keep in mind that you can name this file whatever you prefer. For example, the file can\nbe named ",(0,a.kt)("inlineCode",{parentName:"p"},"token.env")," or ",(0,a.kt)("inlineCode",{parentName:"p"},"secret.env"),".")),(0,a.kt)("p",null,"Storing data in a ",(0,a.kt)("inlineCode",{parentName:"p"},".env")," file is a common way of keeping your sensitive values safe. Create a ",(0,a.kt)("inlineCode",{parentName:"p"},".env")," file in your\nproject directory and paste in your token. You can access your token inside other files by using ",(0,a.kt)("inlineCode",{parentName:"p"},"os.environ"),"."),(0,a.kt)(d,{mdxType:"Tabs"},(0,a.kt)(u,{value:"main.py",label:"main.py",mdxType:"TabItem"},(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-python"},'# Importing "os" module.\nimport os\n\n# Getting .env value.\n# You can name this variable in the script however you like.\nYOUR_BOT_TOKEN = os.environ["YOUR_BOT_TOKEN"]\n'))),(0,a.kt)(u,{value:"secret.env",label:"secret.env",mdxType:"TabItem"},(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-python"},"# Each line in a .env file should hold a KEY=value pair.\nYOUR_BOT_TOKEN = OTA4MjgxMjk4NTU1MTA5Mzk2.YYzc4A.TB7Ng6DOnVDlpMS4idjGptsreFg\n")))),(0,a.kt)("admonition",{type:"danger"},(0,a.kt)("p",{parentName:"admonition"},"If you're using Git, you should not commit this file and should ignore it via ",(0,a.kt)("inlineCode",{parentName:"p"},".gitignore"),". The values of a ",(0,a.kt)("inlineCode",{parentName:"p"},".env")," file are still accessible to anyone if they are able to view the file.")),(0,a.kt)("p",null,"You can use the ",(0,a.kt)("a",{parentName:"p",href:"https://pypi.org/project/python-dotenv/"},"python-dotenv package")," to either load the ",(0,a.kt)("inlineCode",{parentName:"p"},"env")," variables into the environment, or make\na ",(0,a.kt)("inlineCode",{parentName:"p"},"config")," dict out of the env values."),(0,a.kt)(d,{mdxType:"Tabs"},(0,a.kt)(u,{value:"load_dotenv",label:"load_dotenv",mdxType:"TabItem"},(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-python"},"import os\nfrom dotenv import load_dotenv\n\nload_dotenv()  # Take environment variables from .env.\n\n# Using the variables in your application, which uses environment variables\n# (e.g. from 'os.environ()' or 'os.getenv()')\n# as if they came from the actual environment.\nYOUR_BOT_TOKEN = os.environ[\"YOUR_BOT_TOKEN\"]\n"))),(0,a.kt)(u,{value:"dotenv_values",label:"dotenv_values",mdxType:"TabItem"},(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-python"},'from dotenv import dotenv_values\n\nconfig = dotenv_values(".env")  # Makes a dict out of the values.\n\n# Thus, we get\n# config = {YOUR_BOT_TOKEN: OTA4MjgxMjk4NTU1MTA5Mzk2.YYzc4A.TB7Ng6DOnVDlpMS4idjGptsreFg}\n# which can be used as:\nYOUR_BOT_TOKEN = config["YOUR_BOT_TOKEN"]\n')))),(0,a.kt)("p",null,"Keep in mind that the values imported from the ",(0,a.kt)("inlineCode",{parentName:"p"},".env")," file are ",(0,a.kt)("strong",{parentName:"p"},"in string format"),". Therefore if you would like to,\nsay, use them for calculations, you'll have to convert them via ",(0,a.kt)("inlineCode",{parentName:"p"},"int()")),(0,a.kt)("admonition",{title:"Online editors (Glitch, Replit, etc.)",type:"info"},(0,a.kt)("p",{parentName:"admonition"},"While we generally do not recommend using online editors as hosting solutions, but rather invest in a proper virtual\nprivate server, these services do offer ways to keep your credentials safe as well! Please see the respective service's\ndocumentation and help articles for more information on how to keep sensitive values safe:"),(0,a.kt)("ul",{parentName:"admonition"},(0,a.kt)("li",{parentName:"ul"},"Glitch: ",(0,a.kt)("a",{parentName:"li",href:"https://glitch.happyfox.com/kb/article/18"},"Storing secrets in .env")),(0,a.kt)("li",{parentName:"ul"},"Replit: ",(0,a.kt)("a",{parentName:"li",href:"https://docs.replit.com/repls/secrets-environment-variables"},"Secrets and environment variables")))),(0,a.kt)("h3",{id:"git-and-gitignore"},"Git and ",(0,a.kt)("inlineCode",{parentName:"h3"},".gitignore")),(0,a.kt)("p",null,"Git is a fantastic tool to keep track of your code changes and allows you to upload progress to services like\n",(0,a.kt)("a",{parentName:"p",href:"https://github.com/"},"GitHub"),", ",(0,a.kt)("a",{parentName:"p",href:"https://about.gitlab.com/"},"GitLab"),", or ",(0,a.kt)("a",{parentName:"p",href:"https://bitbucket.org/product"},"Bitbucket"),". While this is super useful to share code with other\ndevelopers, it also bears the risk of uploading your configuration files with sensitive values!"),(0,a.kt)("p",null,"You can specify files that Git should ignore in its versioning systems with a ",(0,a.kt)("inlineCode",{parentName:"p"},".gitignore")," file. Create a ",(0,a.kt)("inlineCode",{parentName:"p"},".gitignore"),"\nfile in your project directory and add the names of the files and folders you want to ignore:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"__pycache__/\nsecrets.env\nconfig.json\n")),(0,a.kt)("admonition",{type:"tip"},(0,a.kt)("p",{parentName:"admonition"},(0,a.kt)("a",{parentName:"p",href:"https://stackoverflow.com/questions/16869024/what-is-pycache"},(0,a.kt)("inlineCode",{parentName:"a"},"__pycache__/"))," has been included in ",(0,a.kt)("inlineCode",{parentName:"p"},".gitignore")," as it is simply cache that helps loading and running your\nscript faster (this is an oversimplification). As it is of no particular importance, and is recompiled every time a\nchange is made in the script, it is better to not commit the directory."),(0,a.kt)("p",{parentName:"admonition"},"Also, you can specify certain extensions/directories in ",(0,a.kt)("inlineCode",{parentName:"p"},".gitignore")," files, as per the requirements of your project -\n",(0,a.kt)("a",{parentName:"p",href:"https://raw.githubusercontent.com/github/gitignore/main/Python.gitignore"},"here is an example"),". Check out the ",(0,a.kt)("a",{parentName:"p",href:"https://git-scm.com/docs/gitignore"},"Git documentation on ",(0,a.kt)("inlineCode",{parentName:"a"},".gitignore"))," for more\ninformation!")),(0,a.kt)("h2",{id:"creating-the-main-file"},"Creating the main file"),(0,a.kt)("p",null,"Open your code editor and create a new file. We suggest that you save the file as ",(0,a.kt)("inlineCode",{parentName:"p"},"main.py")," or ",(0,a.kt)("inlineCode",{parentName:"p"},"bot.py"),", but you may\nname it whatever you wish."),(0,a.kt)("p",null,"Here's the base code to get you started:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-python",metastring:'title="main.py"',title:'"main.py"'},'# Import the necessary libraries.\nimport disnake\nfrom disnake.ext import commands\n\n# Creating a commands.Bot() instance, and assigning it to "bot"\nbot = commands.Bot()\n\n# When the bot is ready, run this code.\n@bot.event\nasync def on_ready():\n    print("The bot is ready!")\n\n\n# Login to Discord with the bot\'s token.\nbot.run("YOUR_BOT_TOKEN")\n')),(0,a.kt)("p",null,"This is how you create a bot instance for your Discord bot and login to Discord. Open your terminal and run\n",(0,a.kt)("inlineCode",{parentName:"p"},"python3 main.py"),' to start the process. If you see "The bot is ready!" after a few seconds, you\'re good to go!'),(0,a.kt)("admonition",{type:"tip"},(0,a.kt)("p",{parentName:"admonition"},"After closing the process with ",(0,a.kt)("inlineCode",{parentName:"p"},"Ctrl + C"),", you can press the up arrow on your keyboard to bring up the latest commands\nyou've run in the terminal. Pressing up and then enter after closing the process is a quick way to start it up again.")),(0,a.kt)("h2",{id:"resulting-code"},"Resulting code"),(0,a.kt)(m,{mdxType:"ResultingCode"}))}h.isMDXComponent=!0}}]);